


exports.formatSorlResponse = function(valueToFormat) {
var utilsArray = [];
valueToFormat.response.docs.forEach(function(item, index) {
                   
 //utility retVarilables fill
 var articleUuid = "";
 var articleTitle = "";
 var articleSubtitle = "";
 var articleText = "";
 var artileImageUlr = "";
 var articleType = "";
 var articleAppmobileUrl = "";
 var articlePriceType = "";
 var articleSection = "";
 
 console.log("valueToFormat.response.docs[index]: " + valueToFormat.response.docs[index]);
 
 if (valueToFormat.response.docs[index].idapplication != null) {
     
    articleUuid = valueToFormat.response.docs[index].idapplication;
 } else {
    articleUuid = "null";
 }
 if (valueToFormat.response.docs[index].titolo != null) {
    articleTitle = valueToFormat.response.docs[index].titolo;
 } else {
    articleTitle = "null";
 };
 if (valueToFormat.response.docs[index].sottotitolo != null) {
    articleSubtitle = valueToFormat.response.docs[index].sottotitolo;
 } else {
    articleSubtitle = "null";
 };
 if (valueToFormat.response.docs[index].photo_name != null) {
    artileImageUlr = valueToFormat.response.docs[index].photo_name;
 } else {
    artileImageUlr = "null";
 };
 console.log("valueToFormat.response.docs[index].price_type: " + valueToFormat.response.docs[index].price_type);
 console.log("valueToFormat.response.docs[index].product_type: " + valueToFormat.response.docs[index].product_type);
 console.log("valueToFormat.response.docs[index].sezione: " + valueToFormat.response.docs[index].sezione);
 console.log("valueToFormat.response.docs[index].url_appmobile: " + valueToFormat.response.docs[index].url_appmobile);
 
 if (valueToFormat.response.docs[index].price_type != null) {
     
    articlePriceType = valueToFormat.response.docs[index].price_type;
 } else {
    articlePriceType = "null";
 };
 if (valueToFormat.response.docs[index].product_type != null) {
     
    articleType = valueToFormat.response.docs[index].product_type;
 } else {
    articleType = "null";
 };
 if (valueToFormat.response.docs[index].sezione != null) {
     
    articleSection = valueToFormat.response.docs[index].sezione;
 } else {
    articleSection = "null";
 };
 if (valueToFormat.response.docs[index].url_appmobile != null) {
     
    articleAppmobileUrl = valueToFormat.response.docs[index].url_appmobile;
 } else {
    articleAppmobileUrl = "null";
 };
                    
  //creation of the Return JSON
 utilsArray.push({ article_uuid: articleUuid, article_title: articleTitle, article_subtitle: articleSubtitle, img_url: artileImageUlr, product_type: articleType, content_url: articleAppmobileUrl, price_type: articlePriceType, section: articleSection })
 })
return utilsArray; 
}